import os
import sys
import subprocess


def install_package(package_name):
    """
    Installs a package using pip within a Python function.
    """
    try:
        __import__(package_name)
        print(f"'{package_name}' is already installed.")
    except ImportError:
        print(f"'{package_name}' not found. Installing...")
        subprocess.check_call([sys.executable, "-m", "pip", "install", package_name])

required_packages = ['pandas', 'numpy', 'matplotlib', 'seaborn']

for package in required_packages:
    install_package(package)

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

print("Current working directory:", os.getcwd())
print("Directory content:", os.listdir())

data_file = 'BTC-2021min.csv'  # Change this to the exact file name

df = None

if os.path.exists(data_file):
    # Load cleaned data
    df = pd.read_csv(data_file)
    print(f"Data loaded successfully from {data_file}")
else:
    print(f"Data file '{data_file}' not found in the current directory. Please check the file path.")

if df is not None:

df.info()

    display(df.head())

    display(df.describe())

    plt.figure(figsize=(10, 6))
    sns.heatmap(df.corr(), annot=True, cmap='coolwarm')
    plt.title('Correlation Heatmap')
    plt.show()
else:
    print("No data available to analyze. Please check the data file.")
